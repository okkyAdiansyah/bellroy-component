---
import '../../styles/global.css';
import MainLayout from '../layouts/MainLayout.astro';

const cookie = Astro.cookies.get('cart')?.value
let cart = []

if(cookie){
	try {
    	cart = JSON.parse(cookie);
  	} catch (err) {
    	console.error("Failed to parse cart cookie:", err);
  	}
}
---
<MainLayout>
	<elm-single-product data-cart-items={JSON.stringify(cart)}></elm-single-product>
</MainLayout>